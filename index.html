<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Trainer UI Kit Showcase</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&family=Open+Sans:wght@300;400;600;700&family=Comfortaa:wght@400;600;700&family=Karla:wght@400;700&family=Inter:wght@300;400;500;600;700&family=Roboto+Condensed:wght@700&family=Nunito:wght@300;400;600;700&family=Lora:ital,wght@0,400;0,600;1,400&family=Source+Sans+Pro:wght@400;700;900&family=Anton&family=Barlow:wght@400;600;700;800&family=Merriweather:wght@300;400;700&family=Lato:wght@300;400;700&family=Montserrat:wght@200;300;400;500;600&family=Raleway:wght@300;400;500&family=Bungee&family=Righteous&family=Space+Grotesk:wght@400;500;700&display=swap" rel="stylesheet">


    <link rel="stylesheet" href="assets/css/main.css">
    <!-- Link ALL theme files that will be switchable -->
    <link rel="stylesheet" href="assets/css/themes/theme-modern-professional.css">
    <link rel="stylesheet" href="assets/css/themes/theme-friendly-supportive.css">
    <link rel="stylesheet" href="assets/css/themes/theme-energetic-motivating.css">
    <link rel="stylesheet" href="assets/css/themes/theme-natural-grounded.css">
    <link rel="stylesheet" href="assets/css/themes/theme-luxe-minimalist.css">
    <link rel="stylesheet" href="assets/css/themes/theme-retro-funk.css">

    <style>
        body {
            margin: 0;
            color: #333; /* Fallback */
            /* body padding for mobile nav is in main.css */
        }

        .page-header {
            padding: var(--spacing-md, 16px) var(--spacing-lg, 24px);
            background-color: #f0f0f0; 
            border-bottom: 1px solid #ddd;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky; 
            top: 0;
            z-index: 1010; 
        }
        h1.page-title {
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            font-size: 1.5em; 
            color: #333;
            margin: 0;
            padding: 0;
        }
        .theme-selector-container {
            display: flex;
            align-items: center;
        }
        .theme-selector-container label {
            margin-right: var(--spacing-sm, 8px);
            font-size: 0.9em;
            color: #555;
        }
        #theme-switcher {
            padding: var(--spacing-xs, 4px) var(--spacing-sm, 8px);
            border-radius: var(--border-radius-sm, 4px);
            border: 1px solid #ccc;
            font-size: 0.9em;
            background-color: #fff;
        }

        #themed-area { 
            min-height: 100vh; 
            box-sizing: border-box;
            transition: background-color 0.3s ease, color 0.3s ease;
            /* These will be dynamically updated by JS when theme changes */
            background-color: var(--background-color); 
            color: var(--text-color); 
        }

        .theme-showcase-layout {
            display: flex;
            /* Calculate min-height based on viewport minus sticky header */
            /* Assuming header is roughly 60px, adjust if different */
            min-height: calc(100vh - 60px); 
        }
        
        .theme-showcase-content {
            flex-grow: 1;
            padding: var(--spacing-xl, 40px);
            overflow-y: auto;
        }
        
        .component-group {
            margin: 0 0 var(--spacing-xl, 40px) 0;
            padding: var(--spacing-lg, 24px);
            max-width: 800px;
            border-radius: var(--border-radius-lg, 8px);
            /* These rely on theme variables set on #themed-area */
            background-color: var(--surface-color); 
            box-shadow: var(--shadow-lg);
        }

        .pt-sidebar__nav-icon, .pt-sidebar__user-avatar {
            font-style: normal;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        @media (max-width: 768px) {
            .page-header {
                flex-direction: column;
                align-items: flex-start;
                padding: var(--spacing-sm);
            }
            h1.page-title {
                font-size: 1.2em;
                margin-bottom: var(--spacing-sm);
            }
            .theme-selector-container { width: 100%; }
            #theme-switcher { width: 100%; }
            .theme-showcase-layout .pt-sidebar { display: none !important; } /* Hide desktop sidebar */
            .theme-showcase-layout { flex-direction: column; } /* Stack content area */
            .theme-showcase-content { padding: var(--spacing-md); }
            .component-group { max-width: 100%; padding: var(--spacing-md); }
        }
        @media (min-width: 769px) {
            #sidebar-container .pt-sidebar { /* More specific selector for the sidebar itself */
                height: calc(100vh - 60px); /* Adjust if header height changes */
                position: sticky;
                top: 60px; /* Stick below sticky header; ensure header has fixed height or get dynamically */
                flex-shrink: 0;
            }
        }
    </style>
</head>
<body>

    <header class="page-header">
        <h1 class="page-title">PT UI Kit</h1>
        <div class="theme-selector-container">
            <label for="theme-switcher">Theme:</label>
            <select id="theme-switcher"></select>
        </div>
    </header>

    <div id="themed-area"> <!-- This div gets the main theme class -->
        <div class="theme-showcase-layout"> <!-- This div handles the sidebar + content layout -->
            <div id="sidebar-container">
                <!-- Sidebar HTML will be injected here by JS -->
            </div>
            <main class="theme-showcase-content">
                <div class="component-group" id="main-components-container">
                    <!-- Main components will be injected here by JS -->
                </div>
            </main>
        </div>
    </div>

    <div id="mobile-nav-global-container">
        <!-- Global Mobile Nav HTML will be injected here by JS -->
    </div>

    <script>
        const themes = [
            { value: 'theme-modern-professional', name: 'Modern & Professional', sidebarLogo: 'ProTrain', sidebarUser: 'Alex P.' },
            { value: 'theme-friendly-supportive', name: 'Friendly & Supportive', sidebarLogo: 'WellFit', sidebarUser: 'Sam K.' },
            { value: 'theme-energetic-motivating', name: 'Energetic & Motivating', sidebarLogo: 'IgniteFit', sidebarUser: 'Max Power' },
            { value: 'theme-natural-grounded', name: 'Natural & Grounded', sidebarLogo: 'TerraFit', sidebarUser: 'Willow G.' },
            { value: 'theme-luxe-minimalist', name: 'Luxe Minimalist', sidebarLogo: 'ELEVATE', sidebarUser: 'Kendall R.' },
            { value: 'theme-retro-funk', name: 'Retro Funk', sidebarLogo: 'GrooveFit', sidebarUser: 'DJ Flex' }
        ];

        // --- FUNCTION DEFINITIONS ---
        const getSidebarHTML = (logoText = "FitApp", userName = "Trainer") => {
            return `
            <aside class="pt-sidebar">
                <div class="pt-sidebar__header"><h1 class="pt-sidebar__logo">${logoText}</h1></div>
                <nav class="pt-sidebar__nav"><ul class="pt-sidebar__nav-list">
                    <li class="pt-sidebar__nav-item"><a href="#dashboard" class="pt-sidebar__nav-link is-active"><span class="pt-sidebar__nav-icon">D</span><span class="pt-sidebar__nav-text">Dashboard</span></a></li>
                    <li class="pt-sidebar__nav-item"><a href="#clients" class="pt-sidebar__nav-link"><span class="pt-sidebar__nav-icon">C</span><span class="pt-sidebar__nav-text">Clients</span></a></li>
                    <li class="pt-sidebar__nav-item"><a href="#workouts" class="pt-sidebar__nav-link"><span class="pt-sidebar__nav-icon">W</span><span class="pt-sidebar__nav-text">Workouts</span></a></li>
                    <li class="pt-sidebar__nav-item"><a href="#schedule" class="pt-sidebar__nav-link"><span class="pt-sidebar__nav-icon">S</span><span class="pt-sidebar__nav-text">Schedule</span></a></li>
                    <li class="pt-sidebar__nav-item"><a href="#settings" class="pt-sidebar__nav-link"><span class="pt-sidebar__nav-icon">⚙</span><span class="pt-sidebar__nav-text">Settings</span></a></li>
                </ul></nav>
                <div class="pt-sidebar__footer"><a href="#profile" class="pt-sidebar__user-profile"><span class="pt-sidebar__user-avatar">${userName.charAt(0)}</span><span class="pt-sidebar__user-name">${userName}</span></a><a href="#logout" class="pt-sidebar__logout-link"><span class="pt-sidebar__nav-icon">→</span><span class="pt-sidebar__nav-text">Logout</span></a></div>
            </aside>`;
        };

        const getMobileNavHTML = () => {
            return `
            <div class="pt-mobile-nav-banner">
                <nav class="pt-mobile-nav-banner__scroll-container">
                    <a href="#dashboard" class="pt-mobile-nav-banner__link is-active">Dashboard</a>
                    <a href="#clients" class="pt-mobile-nav-banner__link">Clients</a>
                    <a href="#workouts" class="pt-mobile-nav-banner__link">Workouts</a>
                    <a href="#schedule" class="pt-mobile-nav-banner__link">Schedule</a>
                    <a href="#settings" class="pt-mobile-nav-banner__link">Settings</a>
                    <a href="#profile" class="pt-mobile-nav-banner__link">Profile</a>
                    <a href="#messages" class="pt-mobile-nav-banner__link">Messages</a>
                </nav>
            </div>`;
        };

        const getMainContentHTML = (themeId) => { // themeId for potential unique IDs in content
            return `
            <h3 style="margin-top:0; margin-bottom: var(--spacing-sm); color: var(--heading-color);">Cards, Buttons, Inputs</h3>
            <div class="pt-card"><h3 class="pt-card-title">Your Weekly Workout Plan</h3><p class="pt-card-content">This week focuses on building core strength and improving cardiovascular endurance. Stay consistent!</p><div class="pt-input-group"><label for="goalInput-${themeId}">Set a Mini-Goal for this Week:</label><input type="text" id="goalInput-${themeId}" class="pt-input" placeholder="e.g., Drink 8 glasses of water daily"></div><div class="pt-button-group"><button class="pt-button pt-button--primary">Log Workout</button><button class="pt-button pt-button--secondary">View Progress</button><button class="pt-button pt-button--accent">Share Update</button></div></div>
            <h3 style="margin-top: var(--spacing-xl); margin-bottom: var(--spacing-sm); color: var(--heading-color);">Alerts</h3>
            <div class="pt-alert pt-alert--success"><strong>Great job!</strong> Workout logged successfully.</div><div class="pt-alert pt-alert--warning"><strong>Heads up:</strong> Upcoming session in 2 hours.</div><div class="pt-alert pt-alert--error"><strong>Oops!</strong> We couldn't save your food log. Please try again.</div><div class="pt-alert pt-alert--info"><strong>Tip:</strong> Remember to warm up before each session!</div>
            <h3 style="margin-top: var(--spacing-xl); margin-bottom: var(--spacing-sm); color: var(--heading-color);">Client List</h3>
            <div class="pt-client-list-item"><div class="pt-client-list-item__avatar"><span>AD</span></div><div class="pt-client-list-item__info"><h4 class="pt-client-list-item__name">Alice Davis</h4><p class="pt-client-list-item__meta">Next Up: Cardio Blast, Tomorrow 9 AM</p></div><div class="pt-client-list-item__actions"><a href="#" class="pt-button pt-button--secondary pt-button--small">Profile</a></div></div>
            <div class="pt-client-list-item pt-client-list-item--active"><div class="pt-client-list-item__avatar"><span>BE</span></div><div class="pt-client-list-item__info"><h4 class="pt-client-list-item__name">Bob Evans</h4><p class="pt-client-list-item__meta">Active Plan: Full Body Strength</p></div><div class="pt-client-list-item__actions"><a href="#" class="pt-button pt-button--primary pt-button--small">Chat</a></div></div>
            <div class="pt-client-list-item"><div class="pt-client-list-item__avatar"><span>CH</span></div><div class="pt-client-list-item__info"><h4 class="pt-client-list-item__name">Carol Hayes</h4><p class="pt-client-list-item__meta">Goal: Weight Loss - 5kg Target</p></div><div class="pt-client-list-item__actions"><a href="#" class="pt-button pt-button--secondary pt-button--small">Profile</a></div></div>
            `;
        };
        
                function applyThemeAndContent(themeValue, elements, isInitialLoad = false) {
            const { themedArea, sidebarContainer, mainComponentsContainer, mobileNavGlobalContainer } = elements;
            
            // Reset classes before applying new one
            themedArea.className = ''; // Clear all classes from #themed-area
            
            // Apply new theme class to #themed-area
            themedArea.classList.add(themeValue); 

            // Theme the mobile navigation banner IF it has been created and has a first child
            if (mobileNavGlobalContainer && mobileNavGlobalContainer.firstChild) {
                mobileNavGlobalContainer.firstChild.className = 'pt-mobile-nav-banner'; // Reset its class
                mobileNavGlobalContainer.firstChild.classList.add(themeValue); // Add current theme class
            }

            const currentTheme = themes.find(t => t.value === themeValue);
            if (currentTheme) {
                if (sidebarContainer) {
                    sidebarContainer.innerHTML = getSidebarHTML(currentTheme.sidebarLogo, currentTheme.sidebarUser);
                }
                // Inject Main Components HTML only on initial load
                if (isInitialLoad && mainComponentsContainer) {
                     mainComponentsContainer.innerHTML = getMainContentHTML(currentTheme.value);
                }
            }
            
            // These ensure the background/text color from the new theme are immediately applied
            themedArea.style.backgroundColor = 'var(--background-color)';
            themedArea.style.color = 'var(--text-color)';

            // Optional reflow for mobile nav (often not strictly needed if classes apply correctly)
            // if (mobileNavGlobalContainer && mobileNavGlobalContainer.firstChild) {
            //     const mobileNavBanner = mobileNavGlobalContainer.firstChild;
            //     mobileNavBanner.style.display = 'none';
            //     mobileNavBanner.offsetHeight; 
            //     mobileNavBanner.style.display = '';
            // }
        }

        function setupActiveLinkSwitcher() {
            const allNavLinks = document.querySelectorAll('.pt-sidebar__nav-link, .pt-mobile-nav-banner__link');
            
            allNavLinks.forEach(link => {
                const newLink = link.cloneNode(true); // Create a fresh copy
                link.parentNode.replaceChild(newLink, link); // Replace old link with new one (clears old listeners)

                newLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    let parentNavList;
                    if (this.classList.contains('pt-sidebar__nav-link')) {
                        parentNavList = this.closest('.pt-sidebar__nav-list');
                    } else if (this.classList.contains('pt-mobile-nav-banner__link')) {
                        parentNavList = this.closest('.pt-mobile-nav-banner__scroll-container');
                    }
                    if (parentNavList) {
                        parentNavList.querySelectorAll('.is-active').forEach(el => el.classList.remove('is-active'));
                        this.classList.add('is-active');
                    }
                });
            });
        }

               // --- DOMContentLoaded LISTENER ---
        document.addEventListener('DOMContentLoaded', () => {
            const elements = {
                themeSwitcher: document.getElementById('theme-switcher'),
                themedArea: document.getElementById('themed-area'),
                sidebarContainer: document.getElementById('sidebar-container'),
                mainComponentsContainer: document.getElementById('main-components-container'),
                mobileNavGlobalContainer: document.getElementById('mobile-nav-global-container')
            };

            // 1. Populate Theme Switcher
            themes.forEach(theme => {
                const option = document.createElement('option');
                option.value = theme.value;
                option.textContent = theme.name;
                elements.themeSwitcher.appendChild(option);
            });
            
            // 2. Inject Initial HTML for main content and mobile nav
            if (themes.length > 0) { // Ensure there's at least one theme
                if (elements.mainComponentsContainer) {
                    elements.mainComponentsContainer.innerHTML = getMainContentHTML(themes[0].value);
                }
                if (elements.mobileNavGlobalContainer) {
                     elements.mobileNavGlobalContainer.innerHTML = getMobileNavHTML();
                }
            }

            // 3. Apply Initial Theme (NOW mobileNavGlobalContainer.firstChild should exist)
            if (themes.length > 0) {
                applyThemeAndContent(themes[0].value, elements, true); // true for initial load
            }

            // 4. Setup Event Listener for Theme Switcher
            elements.themeSwitcher.addEventListener('change', (event) => {
                applyThemeAndContent(event.target.value, elements, false); // false for subsequent changes
                setupActiveLinkSwitcher(); 
            });
            
            // 5. Setup Active Link Switcher for initially rendered navs
            setupActiveLinkSwitcher(); 
        });
    </script>
    <script src="assets/js/main.js"></script> <!-- Optional: for any other global JS -->
</body>
</html>
