<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitFlow - Your Personalized Fitness Journey</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <meta name="google-signin-client_id" content="490908100618-a13gj712uu1d68ohlj2pk9pb6ndk0qlc.apps.googleusercontent.com">

    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/themes/theme-modern-professional.css"> 
    <link rel="stylesheet" href="assets/css/themes/theme-friendly-supportive.css">
    <link rel="stylesheet" href="assets/css/themes/theme-energetic-motivating.css">
    <link rel="stylesheet" href="assets/css/themes/theme-natural-grounded.css">
    <link rel="stylesheet" href="assets/css/themes/theme-luxe-minimalist.css">
    <link rel="stylesheet" href="assets/css/themes/theme-retro-funk.css">

    <style>
        body {
            margin: 0;
            font-family: 'Open Sans', sans-serif;
            line-height: 1.7;
            background-color: var(--background-color, #f4f7f7); /* Default for body if not themed */
            color: var(--text-color, #333);
            overflow-x: hidden; 
        }

        #landing-page-wrapper {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .landing-header {
            padding: var(--spacing-md, 16px) var(--spacing-lg, 24px);
            background-color: var(--surface-color, #fff); 
            box-shadow: var(--shadow-sm, 0 2px 4px rgba(0,0,0,0.05));
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative; 
            z-index: 100; /* Above hero SVGs */
        }

        .landing-logo { /* ... same ... */ }
        .landing-nav a { /* ... same ... */ }

        .hero-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: var(--spacing-xxl, 80px) var(--spacing-lg, 24px); /* Increased padding for SVGs */
            background-color: var(--surface-main, #ffffff); /* WHITE background for hero content */
            color: var(--text-color-on-surface, #333); /* Text color for white background */
            min-height: 60vh; 
            position: relative; /* For positioning SVGs */
            overflow: hidden; 
            z-index: 1; /* To stack content above background elements */
        }
        
        /* SVG STYLING */
        .hero-svg {
            position: absolute;
            left: 0;
            width: 100%;
            height: 120px; /* Adjust based on your SVG's desired visible height */
            z-index: 0; /* Behind hero-content */
            pointer-events: none;
            /* Fill color will be set by --hero-svg-fill variable */
            fill: var(--hero-svg-fill, #0099ff); /* Fallback SVG fill */
            animation: pulseDepth 5s ease-in-out infinite alternate;
        }
        .hero-svg--top {
            top: 0;
            transform: translateY(-1px); /* Ensure it covers the very top edge */
        }
        .hero-svg--bottom {
            bottom: 0;
            transform: scaleY(-1) translateY(-1px); /* Flip vertically and align */
        }

        @keyframes pulseDepth {
            0% {
                transform: scaleY(1) translateY(0);
            }
            50% {
                transform: scaleY(1.3) translateY(5px); /* Example pulse effect */
            }
            100% {
                transform: scaleY(1) translateY(0);
            }
        }
        /* Specific transform for bottom SVG to maintain flip */
         .hero-svg--bottom { animation-name: pulseDepthBottom; }
        @keyframes pulseDepthBottom {
             0% { transform: scaleY(-1) translateY(0); }
             50% { transform: scaleY(-1.3) translateY(5px); }
             100% { transform: scaleY(-1) translateY(0); }
        }


        .hero-content {
            position: relative;
            z-index: 2; 
            max-width: 700px;
        }

        .hero-section h1 { /* ... same ... */
            font-family: 'Poppins', sans-serif; font-size: 3em; font-weight: 700;
            margin-bottom: var(--spacing-md, 16px); color: var(--heading-color-on-surface); line-height: 1.2;
        }
        .hero-section p.subtitle { /* ... same ... */
             font-size: 1.2em; margin-bottom: var(--spacing-lg, 24px); 
             color: var(--text-color-on-surface); max-width: 600px;
        }
        .signin-options { /* ... same ... */ }
        .g-signin2 {  /* ... same ... */ }
        .admin-signin-link { /* ... same ... */
            color: var(--text-color-muted); /* Adjust for light hero background */
        }


        .features-section {
            padding: var(--spacing-xxl, 48px) var(--spacing-lg, 24px);
            text-align: center;
            /* Background set to the SVG color */
            background-color: var(--hero-svg-fill, #0099ff); /* Use the same color as SVGs */
            color: var(--text-color-on-primary, #fff); /* Text color for blue background */
        }
        .features-section h2 {
            font-family: 'Poppins', sans-serif; font-size: 2.2em; 
            margin-bottom: var(--spacing-xl, 32px); 
            color: var(--text-color-on-primary, #fff); /* Ensure heading contrasts with blue bg */
        }
        .features-grid { /* ... same ... */ }
        .feature-item { 
            background-color: var(--surface-color, #fff); /* Cards on blue bg remain white */
            padding: var(--spacing-lg, 24px); border-radius: var(--border-radius-lg, 8px); 
            box-shadow: var(--shadow-md, 0 4px 8px rgba(0,0,0,0.15)); /* Slightly stronger shadow on colored bg */
            color: var(--text-color-on-surface, #333); /* Text inside feature items is dark */
        }
        .feature-item .icon { font-size: 2.5em; color: var(--primary-color, #005f73); margin-bottom: var(--spacing-md, 16px); }
        .feature-item h3 { font-family: 'Poppins', sans-serif; font-size: 1.3em; margin-bottom: var(--spacing-sm, 8px); color: var(--heading-color-on-surface, #333); }
        /* feature-item p color already handled by feature-item color */

        .landing-footer { /* ... same ... */ }

        @media (max-width: 768px) { /* ... same responsive styles ... */ }
    </style>
</head>
<body class="theme-modern-professional"> 

    <div id="landing-page-wrapper"> 
        <header class="landing-header">
            <a href="#" class="landing-logo">FitFlow</a>
            <nav class="landing-nav">
                <a href="#features">Features</a>
                <a href="#" id="adminLoginLinkPlaceholder">Trainer Login</a>
            </nav>
        </header>

        <section class="hero-section">
            <svg class="hero-svg hero-svg--top" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill-opacity="1" d="M0,32L0,224L49.7,224L49.7,128L99.3,128L99.3,288L149,288L149,320L198.6,320L198.6,224L248.3,224L248.3,128L297.9,128L297.9,288L347.6,288L347.6,320L397.2,320L397.2,32L446.9,32L446.9,288L496.6,288L496.6,32L546.2,32L546.2,96L595.9,96L595.9,192L645.5,192L645.5,224L695.2,224L695.2,224L744.8,224L744.8,192L794.5,192L794.5,0L844.1,0L844.1,288L893.8,288L893.8,96L943.4,96L943.4,288L993.1,288L993.1,32L1042.8,32L1042.8,224L1092.4,224L1092.4,288L1142.1,288L1142.1,64L1191.7,64L1191.7,256L1241.4,256L1241.4,224L1291,224L1291,0L1340.7,0L1340.7,320L1390.3,320L1390.3,192L1440,192L1440,0L1390.3,0L1390.3,0L1340.7,0L1340.7,0L1291,0L1291,0L1241.4,0L1241.4,0L1191.7,0L1191.7,0L1142.1,0L1142.1,0L1092.4,0L1092.4,0L1042.8,0L1042.8,0L993.1,0L993.1,0L943.4,0L943.4,0L893.8,0L893.8,0L844.1,0L844.1,0L794.5,0L794.5,0L744.8,0L744.8,0L695.2,0L695.2,0L645.5,0L645.5,0L595.9,0L595.9,0L546.2,0L546.2,0L496.6,0L496.6,0L446.9,0L446.9,0L397.2,0L397.2,0L347.6,0L347.6,0L297.9,0L297.9,0L248.3,0L248.3,0L198.6,0L198.6,0L149,0L149,0L99.3,0L99.3,0L49.7,0L49.7,0L0,0L0,0Z"></path></svg>
            <svg class="hero-svg hero-svg--bottom" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill-opacity="1" d="M0,32L0,224L49.7,224L49.7,128L99.3,128L99.3,288L149,288L149,320L198.6,320L198.6,224L248.3,224L248.3,128L297.9,128L297.9,288L347.6,288L347.6,320L397.2,320L397.2,32L446.9,32L446.9,288L496.6,288L496.6,32L546.2,32L546.2,96L595.9,96L595.9,192L645.5,192L645.5,224L695.2,224L695.2,224L744.8,224L744.8,192L794.5,192L794.5,0L844.1,0L844.1,288L893.8,288L893.8,96L943.4,96L943.4,288L993.1,288L993.1,32L1042.8,32L1042.8,224L1092.4,224L1092.4,288L1142.1,288L1142.1,64L1191.7,64L1191.7,256L1241.4,256L1241.4,224L1291,224L1291,0L1340.7,0L1340.7,320L1390.3,320L1390.3,192L1440,192L1440,320L1390.3,320L1390.3,320L1340.7,320L1340.7,320L1291,320L1291,320L1241.4,320L1241.4,320L1191.7,320L1191.7,320L1142.1,320L1142.1,320L1092.4,320L1092.4,320L1042.8,320L1042.8,320L993.1,320L993.1,320L943.4,320L943.4,320L893.8,320L893.8,320L844.1,320L844.1,320L794.5,320L794.5,320L744.8,320L744.8,320L695.2,320L695.2,320L645.5,320L645.5,320L595.9,320L595.9,320L546.2,320L546.2,320L496.6,320L496.6,320L446.9,320L446.9,320L397.2,320L397.2,320L347.6,320L347.6,320L297.9,320L297.9,320L248.3,320L248.3,320L198.6,320L198.6,320L149,320L149,320L99.3,320L99.3,320L49.7,320L49.7,320L0,320L0,320Z"></path></svg>

            <div class="hero-content">
                <h1>Your Personalized Fitness Journey with FitFlow</h1>
                <p class="subtitle">Achieve your goals with custom workout plans, progress tracking, and direct support from your dedicated trainer.</p>
                <div class="signin-options">
                    <p style="font-weight:600; font-size:1.1em; margin-bottom:var(--spacing-xs); color: var(--heading-color-on-surface);">Ready to start?</p>
                    <div class="g-signin2" data-onsuccess="onClientSignIn" data-theme="light" data-width="240" data-height="50" data-longtitle="true"></div>
                </div>
                 <a href="#admin-login-section" class="admin-signin-link" id="adminLoginLinkConceptual">Are you a trainer? Sign in here.</a>
            </div>
        </section>

        <section class="features-section" id="features">
            <h2>Why FitFlow?</h2>
            <div class="features-grid"> <!-- ... same feature items ... --> </div>
        </section>
        
        <section class="chunk-section" id="admin-login-section" style="max-width: 400px; margin: 40px auto; display: none;"> <!-- ... same admin login ... --> </section>

        <footer class="landing-footer"> <!-- ... same footer ... --> </footer>
    </div>

    <script>
        // --- Google Sign-In Callbacks & Admin Toggle ---
        // ... (This JS part remains the same as the previous version for FitFlow) ...
        function onClientSignIn(googleUser) { var id_token = googleUser.getAuthResponse().id_token; console.log("CLIENT Google ID Token: " + id_token); alert("Client Signed In (Demo)! Token: " + id_token.substring(0,30) + "..."); var auth2 = gapi.auth2.getAuthInstance(); auth2.signOut().then(function () { console.log('Client signed out for demo.'); }); }
        function onAdminSignIn(googleUser) { var id_token = googleUser.getAuthResponse().id_token; console.log("ADMIN Google ID Token: " + id_token); alert("Admin Signed In (Demo)! Token: " + id_token.substring(0,30) + "...\nBackend would verify admin status."); var auth2 = gapi.auth2.getAuthInstance(); auth2.signOut().then(function () { console.log('Admin signed out for demo.'); }); }
        const adminLoginLinkConceptual = document.getElementById('adminLoginLinkConceptual'); const adminLoginLinkPlaceholder = document.getElementById('adminLoginLinkPlaceholder'); const adminLoginSection = document.getElementById('admin-login-section');
        function toggleAdminLogin(e) { e.preventDefault(); if (adminLoginSection) { adminLoginSection.style.display = adminLoginSection.style.display === 'none' ? 'block' : 'none'; if (adminLoginSection.style.display === 'block') { adminLoginSection.scrollIntoView({ behavior: 'smooth' });}}}
        if(adminLoginLinkConceptual) adminLoginLinkConceptual.addEventListener('click', toggleAdminLogin); if(adminLoginLinkPlaceholder) adminLoginLinkPlaceholder.addEventListener('click', toggleAdminLogin);

        // --- Theme Switcher Logic ---
        const themes = [ 
            { value: 'theme-modern-professional', name: 'Modern & Professional', svgFill: '#005f73' }, // Example main color
            { value: 'theme-friendly-supportive', name: 'Friendly & Supportive', svgFill: '#609966' },
            { value: 'theme-energetic-motivating', name: 'Energetic & Motivating', svgFill: '#FFFF00' }, // New primary is yellow
            { value: 'theme-natural-grounded', name: 'Natural & Grounded', svgFill: '#4A7856' },
            { value: 'theme-luxe-minimalist', name: 'Luxe Minimalist', svgFill: '#B08D57' },
            { value: 'theme-retro-funk', name: 'Retro Funk', svgFill: '#E88C30' }
        ];
        const themeSwitcher = document.getElementById('theme-switcher');
        const bodyElement = document.body; 
        const landingPageWrapper = document.getElementById('landing-page-wrapper'); 

        if (themeSwitcher && themes.length > 0) {
            themes.forEach(theme => {
                const option = document.createElement('option'); option.value = theme.value; option.textContent = theme.name;
                themeSwitcher.appendChild(option);
            });
            
            function applyLandingTheme(themeValue) {
                // Set a CSS variable for the SVG fill based on the theme
                const currentThemeObject = themes.find(t => t.value === themeValue);
                const svgFillColor = currentThemeObject ? currentThemeObject.svgFill : '#0099ff'; // Fallback
                document.documentElement.style.setProperty('--hero-svg-fill', svgFillColor);

                bodyElement.className = ''; 
                bodyElement.classList.add(themeValue);

                if(landingPageWrapper){
                    landingPageWrapper.className = ''; 
                    landingPageWrapper.classList.add(themeValue);
                    // These direct style applications are important for the wrapper if it's not inheriting perfectly
                    landingPageWrapper.style.backgroundColor = 'var(--background-color)';
                    landingPageWrapper.style.color = 'var(--text-color)';
                }
                
                // Update features section if its background depends on the SVG fill
                const featuresSection = document.getElementById('features');
                if (featuresSection) {
                    featuresSection.style.backgroundColor = 'var(--hero-svg-fill)';
                    // You might need to adjust text color on features section based on svgFillColor
                    // This is a simple check, for robust solution, use contrast checker logic or predefined text colors
                    const isDarkBg = isColorDark(svgFillColor); 
                    featuresSection.style.color = isDarkBg ? 'var(--text-color-on-primary, #fff)' : 'var(--neutral-dark, #333)';
                    featuresSection.querySelectorAll('h2, h3, p').forEach(el => {
                        el.style.color = isDarkBg ? 'var(--text-color-on-primary, #fff)' : 'var(--neutral-dark, #333)';
                         if(el.tagName === 'H3') el.style.color = isDarkBg ? 'var(--text-color-on-primary, #fff)' : 'var(--heading-color-on-surface, #333)'; // Feature item titles
                    });
                     featuresSection.querySelectorAll('.feature-item .icon').forEach(el => {
                        el.style.color = isDarkBg ? 'var(--text-color-on-primary, #fff)' : 'var(--primary-color, #005f73)';
                    });
                }
            }
            // Helper to check if a color is dark (simplified)
            function isColorDark(hexcolor){
                if (!hexcolor || !hexcolor.startsWith('#')) return false; // Default to light if invalid
                const r = parseInt(hexcolor.slice(1, 3), 16);
                const g = parseInt(hexcolor.slice(3, 5), 16);
                const b = parseInt(hexcolor.slice(5, 7), 16);
                const luminance = (0.299 * r + 0.587 * g + 0.114 * b) / 255;
                return luminance < 0.5;
            }


            applyLandingTheme(themes[0].value); 
            themeSwitcher.value = themes[0].value;

            themeSwitcher.addEventListener('change', (event) => {
                applyLandingTheme(event.target.value);
            });
        }
        
        document.getElementById('currentYear').textContent = new Date().getFullYear();
    </script>
</body>
</html>
